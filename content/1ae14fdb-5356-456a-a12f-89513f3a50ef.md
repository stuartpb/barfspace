# accouch note nexus

This is my project to implement a general-purpose drop-in server for everything I've always described in my more concrete [security thoughts](4dd64124-8e20-4901-aae4-5876361adc85.md).

I've been looking at Hoodie's implementation (which is really just a slightly-dressed-up PouchDB), and I remember another server having something like this, but ultimately, Hoodie's technique gives me the API I could target, even if I do the backing implementation a completely different way.

https://github.com/hoodiehq/account-json-api

So, the idea is that every CouchDB "user" is really going to represent a *session* - they'll be created on the fly with roles representing the user, as well as whatever access roles the user *has authorized* (so, like, the user might have a "high security", you know, "sudo mode" that only lasts half an hour after giving three forms of authentication and approval from another user - this allows them that)

one aspect of this that I think makes sense is that adding roles to a session should be on-demand - like, I might not need a password to start working on my team stuff, but I should still need to go through an "OK, I'm opening my team stuff" audit-log-entry phase to show I was accessing it

if I understand correctly this also lets the session use Bearer tokens (though it could also generate a password that is forgotten after issuing the login?)

## protocols worth knowing

[OpenID Connect](https://openid.net/connect/faq/)

## other open UAM API type platforms

- Dex
  - https://coreos.com/blog/announcing-dex.html
  - https://github.com/dexidp/dex
