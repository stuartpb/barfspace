# Plushu notes

I did a quick think-through of Plushu: the nuts and blots are [here][noise]. Here's a restatement of them, partially from memory and partially through further thought given since those notes were written:

[old quests page here](875b35ab-639f-42fa-9c4f-f649fd528d75.md)

## The Break Down

What's currently called "plushu" with a bunch of unclear delineation will be split up into a few distinct core projects:

- "plushu" will be reduced to *just* the command handling interface (PLUggable SHell Utility), since that's the part that's distinctly shell-attached.
  - Also, it runs by different module rules than the bus: only the *first ASCIIbetical module* owns a command, rather than all modules cooperating - this allows for modules to "shadow" other modules by prefixes if necessary (this is more like Dokku's original design).
- The "plushook" script will become a new project called "plumbus" (PLUggable Module BUS), which will have two methods, "event" and "stream". (plumbus will be a static script, not Plushu-based.)
  - Event/stream names will become namespaced by originating project domain akin to how Kubernetes' stuff does it.
  - Making plumbus a separate script also lets stuff like having it be called directly by systemd be less weird.
- All the Heroku-ecosystem stuff will be renamed "plusku".
  - All the commands will probably get collected into one module, since Plusku's commands have always been pretty abstract and left all the heavy lifting to hooks, so the interface is effectively unopinionated
  - Hmm... just realized that whatever wrapper combines Plushu and Plumbus will need to set env variables for both
  - If anybody needs to update a
  - The Docker versus Kubernetes stuff will be handled by modules.
- The plugin-management stuff can now be known as "mushu" (MUtable Shell Utility), and will likely not be packaged in distributions of plumbus/plushu-based systems.
- The user-as-shell-utility kit will be cut out and renamed "shelly".

[noise]: ade465ec-5355-442d-855a-aeea7ca32907.md
